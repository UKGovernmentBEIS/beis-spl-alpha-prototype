{% from "back-link/macro.njk" import govukBackLink %}

{% extends "layout.html" %}

{% block pageTitle %}
  Plan leave and pay when you have a child
{% endblock %}

{% macro salaryInput(options) %}
  {% set salaryAmountId = options.idPrefix + "-salary-amount" %}
  {% set salaryPeriodId = options.idPrefix + "-salary-period" %}
  <div class="salary-group">
    {{ govukInput({
      label: {
        text: options.labelText
      },
      classes: "govuk-input--width-10",
      id: salaryAmountId,
      name: salaryAmountId,
      value: data[salaryAmountId]
    }) }}
    {{ govukSelect({
      id: salaryPeriodId,
      name: salaryPeriodId,
      label: {
        text: "Per"
      },
      items: [
        {
          value: "year",
          text: "Year",
          selected: data[salaryPeriodId] === "year"
        },
        {
          value: "month",
          text: "Month",
          selected: data[salaryPeriodId] === "month"
        },
        {
          value: "week",
          text: "Week",
          selected: data[salaryPeriodId] === "week"
        }
      ]
    }) }}
  </div>
{% endmacro %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {{ govukBackLink({
        text: "Back",
        href: "due-date"
      }) }}
      <h1 class="govuk-heading-xl">
        What is your salary before tax?
      </h1>
      <p>
        To help plan your leave and pay we take your salary and any enhanced leave packages that your employer offers into account.
      </p>
      <p>
        Input your details here and the amount you will be paid will be plotted on the calendar.
        If you choose to skip this step the the amount shown will only be the statutory rate.
      </p>
      <form action="planner" method="POST">
        {% call govukFieldset({
          legend: {
            text: "Salary before tax",
            classes: "govuk-fieldset__legend--m"
          }
        }) %}
          <div class="salary-group">
            {{ salaryInput({
              idPrefix: "mother",
              labelText: "Mother's salary (£)"
            }) }}
          </div>
          <div class="salary-group">
            {{ salaryInput({
              idPrefix: "partner",
              labelText: "Partner's salary (£)"
            }) }}
          </div>
        {% endcall %}
        <button type="submit" class="govuk-button">
          Next
        </button>
        <a href="planner" class="govuk-button">
          Skip
        </a>
      </form>
    </div>
  </div>

{% endblock %}
